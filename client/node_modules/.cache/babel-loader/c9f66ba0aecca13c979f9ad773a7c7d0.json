{"ast":null,"code":"import _regeneratorRuntime from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n// import React from 'React'\nimport axios from \"axios\";\nimport ajax from 'ajax'; // axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\n\nvar credentials = {\n  // Alan\n  // 'x-app-id': 'a49cbcf2',\n  // 'x-app-key': '8fbb4486f5134e84e81d6f3918835982'\n  // Camilo\n  'x-app-id': '7af0b356',\n  'x-app-key': '59c8379f40e5797d62d756d0b858bc5b' // 'x-app-key': '6dd125bab9d995bde5f71cc6399ddbd8'\n  // Rob\n  // 'x-app-id': 'e0a12c3e',\n  // 'x-app-key': 'ecea00b679c66c1d11b141d4833d152d',\n\n};\nexport default {\n  // Get restaurants based on geolocation\n  getRestaurants: function getRestaurants(lat, lng) {\n    var config = {\n      headers: Object.assign({}, credentials),\n      url: \"https://trackapi.nutritionix.com/v2/locations\",\n      method: 'GET',\n      contentType: 'application/json',\n      params: {\n        ll: \"\".concat(lat, \",\").concat(lng),\n        distance: '5mi',\n        limit: 50\n      }\n    };\n    return axios(config);\n  },\n  getRestaurantsByBrandId: function getRestaurantsByBrandId(brandIds, querySearch) {\n    var config = {\n      headers: Object.assign({}, credentials),\n      url: \"https://trackapi.nutritionix.com/v2/search/instant\",\n      method: 'GET',\n      contentType: 'application/json',\n      params: {\n        query: querySearch,\n        branded: true,\n        self: false,\n        common: false,\n        brand_ids: brandIds,\n        branded_region: 1\n      }\n    };\n    return axios(config);\n  },\n  getFoodItemByItemId: function getFoodItemByItemId(itemId) {\n    var config = {\n      headers: Object.assign({}, credentials),\n      url: \"https://trackapi.nutritionix.com/v2/search/item?nix_item_id=\".concat(itemId),\n      // nix_item_id: itemId,\n      upc: 0,\n      claims: true,\n      method: 'GET',\n      contentType: 'application/json'\n    };\n    return axios(config);\n  },\n  getFoodByQuery: function () {\n    var _getFoodByQuery = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(query) {\n      var preUrl, config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // We have to add this url before to avoid the CROS policy issues\n              preUrl = 'https://cors-anywhere.herokuapp.com/';\n              config = {\n                headers: Object.assign({}, credentials),\n                url: \"https://trackapi.nutritionix.com/v2/search/instant\",\n                // nix_item_id: itemId,\n                line_delimited: false,\n                query: \"burger\",\n                params: {\n                  query: query,\n                  branded: true,\n                  self: true,\n                  common: true,\n                  // brand_ids: brandIds,\n                  branded_region: 1\n                },\n                // query: query,\n                // timezone: \"America/New_York\",\n                // use_branded_foods: false,\n                // use_raw_foods: false,\n                method: 'GET',\n                contentType: 'application/json'\n              };\n              axios(config).then(function (result) {\n                for (var i = 0; i < 5; i++) {\n                  var element = result.data.branded[i];\n                  console.log(element);\n                  var itemId = element.nix_item_id;\n                  var _config = {\n                    headers: Object.assign({}, credentials),\n                    url: \"https://trackapi.nutritionix.com/v2/search/item?nix_item_id=\".concat(itemId),\n                    // nix_item_id: itemId,\n                    upc: 0,\n                    claims: true,\n                    method: 'GET',\n                    contentType: 'application/json' // return axios(config).then()\n\n                  };\n                  axios(_config).then(function (res) {\n                    console.log(res.data.foods[0].food_name);\n                    console.log(res.data.foods[0].nf_calories);\n                  });\n                }\n\n                ;\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getFoodByQuery(_x) {\n      return _getFoodByQuery.apply(this, arguments);\n    }\n\n    return getFoodByQuery;\n  }()\n};","map":{"version":3,"sources":["/Users/camilo/Columbia/YOLO/client/src/utils/API.js"],"names":["axios","ajax","credentials","getRestaurants","lat","lng","config","headers","Object","assign","url","method","contentType","params","ll","distance","limit","getRestaurantsByBrandId","brandIds","querySearch","query","branded","self","common","brand_ids","branded_region","getFoodItemByItemId","itemId","upc","claims","getFoodByQuery","preUrl","line_delimited","then","result","i","element","data","console","log","nix_item_id","res","foods","food_name","nf_calories"],"mappings":"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","sourcesContent":["\n// import React from 'React'\nimport axios from \"axios\";\nimport ajax from 'ajax'\n// axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\n\nconst credentials = {\n\n    // Alan\n    // 'x-app-id': 'a49cbcf2',\n    // 'x-app-key': '8fbb4486f5134e84e81d6f3918835982'\n\n    // Camilo\n    'x-app-id': '7af0b356',\n    'x-app-key': '59c8379f40e5797d62d756d0b858bc5b',\n    // 'x-app-key': '6dd125bab9d995bde5f71cc6399ddbd8'\n\n    // Rob\n    // 'x-app-id': 'e0a12c3e',\n    // 'x-app-key': 'ecea00b679c66c1d11b141d4833d152d',\n}\n\nexport default {\n    // Get restaurants based on geolocation\n    getRestaurants: (lat, lng) => {\n\n\n        const config = {\n            headers: Object.assign({}, credentials),\n            url: \"https://trackapi.nutritionix.com/v2/locations\",\n            method: 'GET',\n            contentType: 'application/json',\n            params: {\n                ll: `${lat},${lng}`,\n                distance: '5mi',\n                limit: 50\n            }\n        }\n\n        return axios(config)\n    },\n\n\n    getRestaurantsByBrandId: (brandIds, querySearch) => {\n\n\n        const config = {\n            headers: Object.assign({}, credentials),\n            url: \"https://trackapi.nutritionix.com/v2/search/instant\",\n            method: 'GET',\n            contentType: 'application/json',\n            params: {\n                query: querySearch,\n                branded: true,\n                self: false,\n                common: false,\n                brand_ids: brandIds,\n                branded_region: 1,\n            }\n        }\n\n        return axios(config)\n    },\n\n    getFoodItemByItemId: function (itemId) {\n\n        const config = {\n            headers: Object.assign({}, credentials),\n            url: `https://trackapi.nutritionix.com/v2/search/item?nix_item_id=${itemId}`,\n            // nix_item_id: itemId,\n            upc: 0,\n            claims: true,\n            method: 'GET',\n            contentType: 'application/json',\n        }\n\n        return axios(config)\n    },\n\n    getFoodByQuery: async (query) => {\n        // We have to add this url before to avoid the CROS policy issues\n        const preUrl = 'https://cors-anywhere.herokuapp.com/'\n\n        const config = {\n            headers: Object.assign({}, credentials),\n            url: `https://trackapi.nutritionix.com/v2/search/instant`,\n            // nix_item_id: itemId,\n            line_delimited: false,\n            query: \"burger\",\n            params: {\n                query: query,\n                branded: true,\n                self: true,\n                common: true,\n                // brand_ids: brandIds,\n                branded_region: 1,\n            },\n            // query: query,\n            // timezone: \"America/New_York\",\n            // use_branded_foods: false,\n            // use_raw_foods: false,\n            method: 'GET',\n            contentType: 'application/json',\n        }\n\n        axios(config).then(result => {\n\n\n            for (let i = 0; i < 5; i++) {\n                const element = result.data.branded[i]\n            \n                console.log(element);\n                const itemId = element.nix_item_id;\n\n                const config = {\n                    headers: Object.assign({}, credentials),\n                    url: `https://trackapi.nutritionix.com/v2/search/item?nix_item_id=${itemId}`,\n                    // nix_item_id: itemId,\n                    upc: 0,\n                    claims: true,\n                    method: 'GET',\n                    contentType: 'application/json',\n                }\n\n                // return axios(config).then()\n                axios(config).then(res => {\n                    console.log(res.data.foods[0].food_name)\n                    console.log(res.data.foods[0].nf_calories)\n                })\n\n            };\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}