{"ast":null,"code":"import _toConsumableArray from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/camilo/Columbia/YOLO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/camilo/Columbia/YOLO/client/src/components/MainPageSearch/MainPageSearch.js\";\nimport React from \"react\";\nimport \"./MainPageSearch.css\";\n\nvar MainPageSearch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MainPageSearch, _React$Component);\n\n  function MainPageSearch(props) {\n    var _this;\n\n    _classCallCheck(this, MainPageSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPageSearch).call(this, props));\n    _this.scrapeSearch = _this.scrapeSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      age: \"\",\n      gender: \"\",\n      heightFeet: \"\",\n      heightInch: \"\",\n      weight: \"\",\n      results: [{\n        calories: 0,\n        percent: 0\n      }, {\n        calories: 0,\n        percent: 0\n      }, {\n        calories: 0,\n        percent: 0\n      }, {\n        calories: 0,\n        percent: 0\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(MainPageSearch, [{\n    key: \"handleSearchClick\",\n    value: function handleSearchClick(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      console.log('restaurantObject', this.state);\n      API.getRestaurants(this.state.myPlace[0].lat, this.state.myPlace[0].lng).then(function (arr) {\n        console.log(\"array\", arr);\n        var brandIdList = arr.data.locations.map(function (location) {\n          return location.brand_id;\n        });\n        var restaurantList = arr.data.locations.map(function (location) {\n          return {\n            brand_id: location.brand_id,\n            lat: location.lat,\n            lng: location.lng\n          };\n        });\n        console.log(\"Object\", brandIdList);\n        console.log(\"restaurantList\", restaurantList);\n        API.getRestaurantsByBrandId(brandIdList, _this2.state.querySearch).then(function (result) {\n          console.log(\"Result\", result); // Filter array by calories entered by the user\n\n          var newArray = result.data.branded.filter(function (item) {\n            return item.nf_calories >= _this2.state.calories - 200 && item.nf_calories <= _this2.state.calories;\n          }); // //////////////////////////////////// //////////////////////////////////// //////////////////////////////////\n          // filter the array to bring brand_id distinct\n\n          var byRestaurantArray = _toConsumableArray(new Set(newArray.map(function (x) {\n            return x.nix_brand_id;\n          })));\n\n          var arrObj = []; // Goes through the array previously filtered and find it on the array previously filtered by calories\n\n          var _loop = function _loop(i) {\n            var item = byRestaurantArray[i];\n            var newObj = {\n              restaurant: {\n                restuarantId: item,\n                restaurantName: '',\n                retaurantLat: '',\n                retaurantLng: '',\n                dishs: []\n              }\n            };\n            newArray.forEach(function (element) {\n              if (item === element.nix_brand_id) {\n                var dishObj = {\n                  food_id: element.nix_item_id,\n                  food_name: element.food_name,\n                  calories: element.nf_calories\n                };\n                newObj.restaurant.restaurantName = element.brand_name;\n                newObj.restaurant.dishs.push(dishObj);\n              }\n            });\n            arrObj.push(newObj);\n          };\n\n          for (var i = 0; i < byRestaurantArray.length; i++) {\n            _loop(i);\n          } // })\n\n\n          console.log('arrObj', arrObj);\n          console.log('byRestaurantArray', byRestaurantArray);\n          console.log('New Array', newArray); // //////////////////////////////////// //////////////////////////////////// //////////////////////////////////\n\n          _this2.setState({\n            restaurants: arrObj\n          }); // this.setState({\n          //   restaurants: newArray\n          // })\n\n\n          console.log(\"ResultFinal\", _this2.state.restaurants);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"bannerImg\",\n        src: \"https://cdn.pixabay.com/photo/2017/09/23/12/40/catering-2778755_1280.jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        id: \"mainPageArea1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        id: \"mainPageTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"How to use this app\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Iusto consequuntur eligendi quia et placeat explicabo beatae illo dolorem, maiores veniam perferendis hic. Dolores esse voluptatem culpa amet, ut repellat laudantium.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        id: \"mainPageTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Why people need to use our app\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum neque alias illo, tenetur placeat, minus culpa dolore necessitatibus pariatur rem, temporibus quasi maiores id. Pariatur minima corporis odit repellendus iure?\")), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        id: \"mainPageArea2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        id: \"mainPageTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Food\"), React.createElement(\"h5\", {\n        id: \"mainPageSubtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Calories Search\"), React.createElement(\"div\", {\n        className: \"input-group mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Food Calories Search\",\n        \"aria-label\": \"Food Calories Search\",\n        \"aria-describedby\": \"basic-addon2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Search\")))), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        id: \"mainPageArea3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        id: \"mainPageTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Restaurant Menu\"), React.createElement(\"h5\", {\n        id: \"mainPageSubtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Calories Search\"), React.createElement(\"div\", {\n        className: \"input-group mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Restaurant Menu Calroies Search\",\n        \"aria-label\": \"Restaurant Menu Calroies Search\",\n        \"aria-describedby\": \"basic-addon2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Search\")))))));\n    }\n  }]);\n\n  return MainPageSearch;\n}(React.Component);\n\nexport default MainPageSearch;","map":{"version":3,"sources":["/Users/camilo/Columbia/YOLO/client/src/components/MainPageSearch/MainPageSearch.js"],"names":["React","MainPageSearch","props","scrapeSearch","bind","state","age","gender","heightFeet","heightInch","weight","results","calories","percent","e","preventDefault","console","log","API","getRestaurants","myPlace","lat","lng","then","arr","brandIdList","data","locations","map","location","brand_id","restaurantList","getRestaurantsByBrandId","querySearch","result","newArray","branded","filter","item","nf_calories","byRestaurantArray","Set","x","nix_brand_id","arrObj","i","newObj","restaurant","restuarantId","restaurantName","retaurantLat","retaurantLng","dishs","forEach","element","dishObj","food_id","nix_item_id","food_name","brand_name","push","length","setState","restaurants","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./MainPageSearch.css\";\n\n\nclass MainPageSearch extends React.Component {\n    constructor(props) {\n        super(props);\n        this.scrapeSearch = this.scrapeSearch.bind(this);\n        this.state = {\n            age: \"\",\n            gender: \"\",\n            heightFeet: \"\",\n            heightInch: \"\",\n            weight: \"\",\n            results: [\n                { calories: 0, percent: 0 },\n                { calories: 0, percent: 0 },\n                { calories: 0, percent: 0 },\n                { calories: 0, percent: 0 },\n            ]\n        }\n    }\n\n    handleSearchClick(e) {\n        e.preventDefault();        \n        console.log('restaurantObject', this.state)\n        API.getRestaurants(this.state.myPlace[0].lat, this.state.myPlace[0].lng).then(arr => {\n    \n          console.log(\"array\", arr)\n          var brandIdList = arr.data.locations.map(location => location.brand_id)\n          var restaurantList = arr.data.locations.map(location => {\n            return (\n              {\n                brand_id: location.brand_id,\n                lat: location.lat,\n                lng: location.lng,\n              })\n          })\n    \n          console.log(\"Object\", brandIdList)\n          console.log(\"restaurantList\", restaurantList)\n    \n          API.getRestaurantsByBrandId(brandIdList, this.state.querySearch).then(result => {\n            console.log(\"Result\", result)\n            // Filter array by calories entered by the user\n            const newArray = result.data.branded.filter(item => ((item.nf_calories >= this.state.calories - 200) && (item.nf_calories <= this.state.calories)))\n    \n            // //////////////////////////////////// //////////////////////////////////// //////////////////////////////////\n            // filter the array to bring brand_id distinct\n            let byRestaurantArray = [...new Set(newArray.map(x => x.nix_brand_id))]\n            let arrObj = []\n    \n            // Goes through the array previously filtered and find it on the array previously filtered by calories\n            for (let i = 0; i < byRestaurantArray.length; i++) {\n              const item = byRestaurantArray[i];\n              const newObj = {\n                restaurant: {\n                  restuarantId: item,\n                  restaurantName: '',\n                  retaurantLat: '',\n                  retaurantLng: '',\n                  dishs: []\n                }\n              }\n              newArray.forEach(element => {\n                if (item === element.nix_brand_id) {\n    \n                  const dishObj = {\n                    food_id: element.nix_item_id,\n                    food_name: element.food_name,\n                    calories: element.nf_calories\n                  }\n                  newObj.restaurant.restaurantName = element.brand_name\n                  newObj.restaurant.dishs.push(dishObj)\n                }\n              })\n              arrObj.push(newObj);\n            }\n            // })\n    \n            console.log('arrObj', arrObj)\n    \n            console.log('byRestaurantArray', byRestaurantArray)\n    \n    \n    \n            console.log('New Array', newArray)\n    \n            // //////////////////////////////////// //////////////////////////////////// //////////////////////////////////\n    \n            this.setState({\n              restaurants: arrObj\n            })\n            // this.setState({\n            //   restaurants: newArray\n            // })\n            console.log(\"ResultFinal\", this.state.restaurants)\n          })\n        })\n      }\n    \n    render() {\n        return (\n            <div>\n                <div id=\"banner\">\n                    <img id=\"bannerImg\" src=\"https://cdn.pixabay.com/photo/2017/09/23/12/40/catering-2778755_1280.jpg\" />\n                </div>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-4\" id=\"mainPageArea1\">\n                            <h2 id=\"mainPageTitle\">How to use this app</h2>\n                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Iusto consequuntur eligendi quia et placeat explicabo beatae illo dolorem, maiores veniam perferendis hic. Dolores esse voluptatem culpa amet, ut repellat laudantium.</p>\n                            <br />\n                            <br />\n                            <h2 id=\"mainPageTitle\">Why people need to use our app</h2>\n                            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum neque alias illo, tenetur placeat, minus culpa dolore necessitatibus pariatur rem, temporibus quasi maiores id. Pariatur minima corporis odit repellendus iure?</p>\n                        </div>\n                        <div className=\"col-md-4\" id=\"mainPageArea2\">\n                            <h2 id=\"mainPageTitle\">Food</h2>\n                            <h5 id=\"mainPageSubtitle\">Calories Search</h5>\n                            <div className=\"input-group mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Food Calories Search\" aria-label=\"Food Calories Search\" aria-describedby=\"basic-addon2\" />\n                                <div className=\"input-group-append\">\n                                    <button className=\"btn btn-outline-secondary\" type=\"button\">Search</button>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-4\" id=\"mainPageArea3\">\n                            <h2 id=\"mainPageTitle\">Restaurant Menu</h2>\n                            <h5 id=\"mainPageSubtitle\">Calories Search</h5>\n                            <div className=\"input-group mb-3\">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Restaurant Menu Calroies Search\" aria-label=\"Restaurant Menu Calroies Search\" aria-describedby=\"basic-addon2\" />\n                                <div className=\"input-group-append\">\n                                    <button className=\"btn btn-outline-secondary\" type=\"button\">Search</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MainPageSearch;"]},"metadata":{},"sourceType":"module"}